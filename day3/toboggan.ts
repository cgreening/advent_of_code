const map = ['........#....#..##..#...#.....#',
'...............#....##........#',
'.#....##...##..#...............',
'.#.......#......#.##..##...#...',
'.....#.#....#..##...#.....#....',
'...#.#..##...###......#..#..#.#',
'.....#..##........#.##......#..',
'..##.....###.........##........',
'..............##..#.#.#.#......',
'.#....##..#.##.#....#..#.#..#..',
'.#.#....#.##.#...#....#.....#..',
'..#...#.#.....#....#.......##..',
'.#.#..##.....#...........#.....',
'.#.##...#.....#......#.##......',
'..#..#..........#.....#..###.#.',
'##....##....#.#...........#..#.',
'.....#.#.......#.#.#..#.##....#',
'...##.#....#..#.....#.........#',
'.....#........#.##...#.........',
'.....#................#.#...#..',
'...#....##.....##....#.......#.',
'....##.#.....#.#.......#.......',
'#...............#..#...........',
'.......###.#.......#.##....#.#.',
'..#........###........#......#.',
'.#.......#...##.....####....##.',
'..##.#....#.....#..#....#......',
'..#...#..#.#..##...#.....#.....',
'.#.......###.......#....#......',
'...#...#.......#........#...#.#',
'..#....#...#.......#.#..##.....',
'##............#.#..#..........#',
'.......###...##..#.....#....#..',
'##..######.#..#.......###....##',
'###..#...#.##......##....#...#.',
'..............##.###..........#',
'.....#........##.#.###....#....',
'..#...#.....##.#......#.#..#.#.',
'#....#.............#.#.........',
'.........##.#........#...#.....',
'..........#..##.#.#.....#..##..',
'........##......#..#..#...#.#..',
'.##.......#..#.#...#.####..#...',
'##...#........#.###...##....#..',
'....###.####...#..#..#......###',
'#....#....#.#.....##.........#.',
'#.......#....#....##...........',
'##...##.#.......#....#...#....#',
'....#....#........##..#.#..#.#.',
'..##.....##...#..........#...#.',
'.#.#.#...#.....##..#........#..',
'#....#.....#..........#....#...',
'...##.#.......#.#.........#....',
'##.##.........##.....##.....##.',
'##.#..##..#...##........##.....',
'.........##.......#....#...#...',
'.#.....#........####.#.#.....#.',
'...........##..#.###...........',
'..#....##....#...#.............',
'#.#............#.......#.......',
'.##........#...#..##.....#.#...',
'#.##..............##..##.......',
'##.........#......#......#..#..',
'##.#....#...#....##....#..#.##.',
'......#...#..#.#...#.#....#.##.',
'##.......#.....#.........#.....',
'...##...#................#.#...',
'....#.####...#.#.....##....##.#',
'#...#..#.#.##................##',
'.........##.....##...#..#......',
'......####....#.##.#.....#.....',
'...#..#.#....#.#.#..#..........',
'.....#........##...#.##....#.#.',
'..##......#...................#',
'.....#..#...............#..#...',
'....#........#..#.#...##...#.##',
'..#.#.......#.##.........#...#.',
'...##......#.#.................',
'.#....#...#.............##.#...',
'........#.##...#..#...###.....#',
'#....#.#........##....#......##',
'.###.......#..#..........#..#..',
'#....#..#....#........#...#...#',
'##.#.###.##.#...##.#......#.#.#',
'#..#..#..##........#..###.#...#',
'....#..#..#.....#...##....#...#',
'.......##.......#..#.##...##..#',
'.##....#..###................##',
'#...#.##.##...#.##......##.....',
'...##.....##..##...#..#........',
'...............##.....##.......',
'.#..#.#..#....#.....#..#...#...',
'.#....#..#........#.#...#.....#',
'##.....####..#......#..........',
'........#.........#.........#..',
'#...####....#.##...#....#...##.',
'.#....####..#...##..#......####',
'...........##.##..#.##...##....',
'..#..#.......#.##....#.#...#.##',
'#...........#..#...............',
'.......#.##..#.....##......#...',
'....##.#.##.....#...........#.#',
'.............#.##..#...#......#',
'#......#...........#........#..',
'#.#..#.............#...#.......',
'#.........##...#....#...##.....',
'##...#..#..#..#....#...........',
'.#.....#........#.....#.##..#.#',
'...#..............##.####.#..#.',
'##.....#..#.#..#..##...........',
'...#...#.......#...............',
'..#..................###..#..##',
'....###..........#.#..#...#.#.#',
'..#..#..#.#..........#.#......#',
'....#....#.#...#.###...##..#...',
'....#.......#...#....##........',
'.#.....#.......###....#........',
'....#..#..#.....#......#.......',
'......#...#..#....#.#.......#..',
'.##.#..#...#.#.#...........#...',
'..#....##.#....#.#....#...#.#.#',
'...##..#.......#....#.#.....##.',
'##.#......#.#.......##...#.....',
'......#...#.##..............#..',
'.##.........#......##.#..#....#',
'#.......#.....#...##...#..#...#',
'..#..##.......#......#......##.',
'#..##...###.#.#...........#....',
'##......#.....####..#..#....#.#',
'.......##...##.#...#...........',
'....#..#.##.#.....#.#....#.#...',
'....#.....#.....####...#..#.##.',
'.##..#..#..###...#....#.##.#.#.',
'..#.#.##..........##...........',
'#.##.#.#....#.##....#..#...##.#',
'#...#....#...###....#.......#..',
'.......#..#............#.......',
'................##.#.#.....#..#',
'..........................#....',
'.##....##...#.#....####..#....#',
'......#...#....#...#.##..###.#.',
'.........#............#.......#',
'.#.#..#........#..#.........#..',
'#..#...#......#.#....#..#.#....',
'...........#.................#.',
'.#.#..#...##..###......##....##',
'.#.#.##......####.........##...',
'..#....#.#..#................#.',
'##.......#....#.........##.#.#.',
'##..#.###...........#..#.#..#.#',
'...#............##.#....#......',
'...#................##.#..#....',
'....#..##.#...#.#.....#.......#',
'......#......#.#........#..##..',
'...##...#.....#.##.......#.....',
'##...#...#.............#..#....',
'..#...##.....#..........#..#.##',
'#.##...#..................#.###',
'.........#..........#.###...#.#',
'#..#.....#.#.#....#......#...#.',
'.............#.##..###.....#.##',
'..#..#.....#..#.............#..',
'.#.....##.#.#..#.........#.....',
'..#.......#....#.....##.#......',
'.#.........#..#....##...#.##...',
'.##..##................###....#',
'.#..##..............#...#......',
'.#..............#.##....##.....',
'.#......#..#..##..#...###.....#',
'................##...#.#..#...#',
'##.#.......#...................',
'....#.#.......#..#.##..........',
'....###............##...#......',
'.......#....#.#.....##.#.....#.',
'....#...............#.#........',
'..#.##....#.#.#......##..#.....',
'.##......#...#.#..#..#.......#.',
'....#...#........#.#..##.......',
'.##...###.#....#..........##..#',
'..#.......##..#.....###......#.',
'...#.#..##.#.#...........#.....',
'##........#.#..##.........#..#.',
'.....###.......#..#.#.....##.#.',
'..#...##.#..............#......',
'......#...#...............##.#.',
'##...#..#....#...#.####.##.....',
'...#............#.##...........',
'...#........##.#.##.......#....',
'...#..#..##....#...#......#..#.',
'#.....#..#......#.#.....##.#.#.',
'.....#.##......#...#..#..###..#',
'...........##..##.#.#..........',
'...#........##........##..##.#.',
'......###...#.....#..###.#..#..',
'#.....#.#....#...##....##.....#',
'.##....#......#.....#.#..##.##.',
'##....###.......#...##.......##',
'...##......#....###............',
'..#...#...#.#..#..........##.#.',
'#.#.###...#..#.....#....#.###..',
'..##.....#.#.#.......#.........',
'...####..#....#..#.........#...',
'.##...........#.##.#...#.#.##..',
'...#.#....#.##......#........#.',
'##....##....#..#...#..#.#......',
'#......#..#...#...#.#.#.#.####.',
'....##.#.#.....#.###........#..',
'....##..#.#.#.#....#....#.#..#.',
'..#.###..#............##..#.#..',
'...#...#..#...#.#.#.....#.....#',
'..........#.....#..#.......##.#',
'..............##...........#...',
'.......#.....#...#.....#.....#.',
'.#.###.....##......##....#...#.',
'.....#.........#.#....#........',
'..#.#....#.##...#.##....##...#.',
'...#......#.#.....#.......###..',
'#.##....##.....#.#.#...#......#',
'#..#...#..........#.........##.',
'....#.#.#.#.....#...###........',
'#.#..#...#......#...#.##...####',
'.#...#......#....##...#........',
'..#.........#............#...#.',
'##......#..#...#....#.##....#..',
'.#...##..#..##.#.#.#........#.#',
'.##.........###...#......#..###',
'...##.....##..#.#.........#....',
'...........##........#...#.....',
'..##..#...#..#..#.....#......#.',
'..#..#.#....#.....#..#.##...#..',
'#....#........##..........#.###',
'......#...#...#....#...##.#....',
'...#......#.#.....##......##...',
'#....#..##............#....#.#.',
'...#...##.#..........##........',
'......#.###......#...#.#.......',
'..................#.##..#..#..#',
'....#.....#...#.....#...#....#.',
'.#....##.#..#..#.....###.##...#',
'#.......#..#....##.##.#.....##.',
'..##........##...#.....#....##.',
'#.........#...........##.#.....',
'.#....#.#...##..###..........#.',
'....##..##....####...#......#..',
'##.##..#..#....#....####...#...',
'..#...............#.##.........',
'...#.#....#..#....#......#.....',
'.#..#...#........#...#.....##..',
'#.....###.......#.....#........',
'...#.##..#.......#....#........',
'....##..###.##...#.#....#.#....',
'#.####...#.......#.....#.#....#',
'#.......#......#.......#.#.#...',
'##....#......#..#...#..#..####.',
'.##.....#........#..#...#......',
'#.#.#....#....#...#.##..##.....',
'....#..#.........###.##.##.....',
'...##...##.###..#..##.....#.###',
'..###.......................#..',
'......##..#.#.........#......#.',
'.###......##....#.....#.......#',
'.....#..#..##........#......##.',
'..##.....#....#.#.............#',
'..##.........##.#..#.........##',
'......#......#.#......#........',
'.#...#..#......##...#..#....#..',
'...............###............#',
'#.####.#....#...#...........#.#',
'............................#.#',
'.#..#...#.#.#.###..##.....##...',
'....##...#.................##..',
'......##....#...............##.',
'.#......#.##.#..#.....##...##..',
'.............#........#......#.',
'#..........#.#....#####.#...#.#',
'.#.#...##..#.#...#.#..#.#..#...',
'#.##.......##......#.#.#....#..',
'##.....##.#.#.##..........##..#',
'....##..#.#.......#....#.##....',
'..#.#.#...#.....#.......#......',
'.#....#..#...........###.......',
'#.#...#.....#......#...#.....#.',
'#........#.#..........#...#.#..',
'...#...#....#.........#........',
'.....................#..##.....',
'...#......##........#.##.#.#.##',
'.............###...#.#...#..#..',
'.#..##........##....#...###..##',
'.#..#.#...............#.....##.',
'...........##.#....#..##.#....#',
'.##.#.#..#.#..#...#.#.#..#.#.##',
'.......#.#..#..#..#..#...#.....',
'.#......##............#.#..#...',
'..#...#..##..#..#...##......#..',
'...##......##....#............#',
'.......#.....##...##.#...#..#..',
'......#.......#..##.........#..',
'..#...#.#.....#.#.......#.#...#',
'.#......##.##.#.#.#.##..#....##',
'#.....#.........#.#....#....##.',
'.......#.........#....#..#.#.##',
'.....##....#..#.#.#...#.....##.',
'#####.#.......######......#....',
'..##.#.......#.#..............#',
'..#.##....#.....#...#.#...##...',
'.....#...#..#....#.#..#........',
'.#....#.#..#.#.#.##..#.......#.',
'....#..#..#..........##...#....',
'.......#.#......#........#.....',
'##.#.#.###....##.#..#..#....#..',
'#.##......#..#.......#.#...#...',
'..##...#.......#.......#...#...',
'........##.........#.#....#.#..',
'..#...#..##.#.#.#...#....#.....',
'.###......#........#....#...#..',
'.#.......##......###..##.......',
'#....#.#....#.##.........####..',
'......#..........#..##.....#...',
'.............#......#..##.#....',
'...................#....#...#..',
'.#..........#...#.#..##...#....',
'.....#...#..........##.##......',
'#...#..#.##........#...#.......'];


function checkTrees(dx: number, dy: number) {
    let x = 0;
    let y= 0;
    let trees = 0;
    while(y < map.length - dy) {
        x = x + dx
        x = x % map[0].length
        y = y + dy
        if (map[y][x] === '#') {
            trees++
        }
    }
    return trees;
}

const slopes = [
{ dx: 1, dy: 1 },
{ dx: 3, dy: 1 },
{ dx: 5, dy: 1 },
{ dx: 7, dy: 1 },
{ dx: 1, dy: 2 },
]

const trees = slopes.map(slope => checkTrees(slope.dx, slope.dy))
console.log(trees)
const product = trees.reduce((tree, total) => tree * total, 1)

console.log(product)